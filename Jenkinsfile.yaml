pipeline:
  agent: any
  tools:
    nodejs: "node"
  stages:
    - stage: "Cloning Git"
      steps:
         script:
                 - withCredentials: "[usernamePassword(credentialsId: 'credGithub', passwordVariable: '68NE3CcqLWZauP9', usernameVariable: 'IsraelNoah')]"
    - stage: "Install Dependencies" 
      steps:
         - sh "npm install" 
    - stage: "Running npm"
      steps:
         - sh "npm config ls"
    - stage: "Test" 
      steps:
         - sh "test-nodejs-app"
         - sh "echo 'testing'"
    - stage: "deploy"
      steps: 
         - sh "test-nodejs-app"
         - sh "echo 'deploying application...'"
                                                                                                                          
